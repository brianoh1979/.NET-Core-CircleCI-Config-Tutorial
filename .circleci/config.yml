version: 2.1

orbs:
  win: circleci/windows@1.0.0

jobs:
 build:
   executor:
     name: win/vs2019
     shell: powershell.exe
   steps:
     - checkout
     - run: hostname
     - run: |
          [System.Environment]::OSVersion
#     - run: winver
     - run: docker run --name wincontainer mcr.microsoft.com/windows/nanoserver:1809
     - run: winpty docker exec -it wincontainer hostname
#     - run: 
     - run:
         name: Restore packages
         command:
           dotnet restore
     - run:
         name: Build App
         command:
           dotnet build
     - run:
         name: Run App
         command:
           dotnet run
